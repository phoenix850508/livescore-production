{"ast":null,"code":"var _jsxFileName = \"/Users/sutaoliang/live-score/frontend/src/components/main/leftSection/calendar/Calendar.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useContext, useRef } from \"react\";\nimport { DateContext } from \"context/DateContext\";\nimport CalendarTitle from \"./calendarComponents/CalendarTitle\";\nimport CalendarDays from \"./calendarComponents/CalendarDays\";\nimport CalendarDates from \"./calendarComponents/CalendarDates\";\nimport clsx from \"clsx\";\nimport styles from \"./Calendar.module.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Calendar(props) {\n  _s();\n  const {\n    dispatch\n  } = useContext(DateContext);\n  const currDate = new Date();\n  const [month, setMonth] = useState(currDate.getMonth());\n  const [year, setYear] = useState(currDate.getFullYear());\n  const handlePrevClick = e => {\n    setMonth(month => month - 1);\n    if (month === 0) {\n      setYear(year - 1);\n      setMonth(11);\n    }\n  };\n  const handleNextClick = e => {\n    setMonth(month => month + 1);\n    if (month === 11) {\n      setYear(year + 1);\n      setMonth(0);\n    }\n  };\n\n  // highlight when the date gets clicked\n  const activeDateRef = useRef(null);\n  const activeMonthRef = useRef(null);\n\n  // if localStorage has selected date\n  const storedDatObjString = localStorage.getItem(\"selectedDate\");\n  const storedDateObj = storedDatObjString && JSON.parse(storedDatObjString);\n  if (storedDateObj) {\n    activeDateRef.current = storedDateObj.activeDate;\n    activeMonthRef.current = storedDateObj.activeMonth;\n  }\n  const handleDateClick = date => {\n    activeMonthRef.current = month;\n    activeDateRef.current = date;\n    localStorage.setItem(\"selectedDate\", JSON.stringify({\n      activeMonth: month,\n      activeDate: date\n    }));\n    dispatch({\n      type: \"change_date\",\n      year: year,\n      monthIndex: month,\n      date: Number(date)\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: clsx({\n      [styles.noShow]: !props.showCalendar\n    }, styles.calendar),\n    ref: props.calendarRef,\n    children: [/*#__PURE__*/_jsxDEV(CalendarTitle, {\n      monthIndex: month,\n      year: year,\n      prevClick: handlePrevClick,\n      nextClick: handleNextClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CalendarDays, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CalendarDates, {\n      monthIndex: month,\n      year: year,\n      onDateClick: handleDateClick,\n      activeDate: activeDateRef.current,\n      activeMonth: activeMonthRef.current\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(Calendar, \"VdivldcGC4SQODckTpzSB7V5dtw=\");\n_c = Calendar;\nvar _c;\n$RefreshReg$(_c, \"Calendar\");","map":{"version":3,"names":["useState","useContext","useRef","DateContext","CalendarTitle","CalendarDays","CalendarDates","clsx","styles","jsxDEV","_jsxDEV","Calendar","props","_s","dispatch","currDate","Date","month","setMonth","getMonth","year","setYear","getFullYear","handlePrevClick","e","handleNextClick","activeDateRef","activeMonthRef","storedDatObjString","localStorage","getItem","storedDateObj","JSON","parse","current","activeDate","activeMonth","handleDateClick","date","setItem","stringify","type","monthIndex","Number","className","noShow","showCalendar","calendar","ref","calendarRef","children","prevClick","nextClick","fileName","_jsxFileName","lineNumber","columnNumber","onDateClick","_c","$RefreshReg$"],"sources":["/Users/sutaoliang/live-score/frontend/src/components/main/leftSection/calendar/Calendar.tsx"],"sourcesContent":["import { useState, useContext, useRef } from \"react\";\nimport { DateContext } from \"context/DateContext\";\nimport CalendarTitle from \"./calendarComponents/CalendarTitle\";\nimport CalendarDays from \"./calendarComponents/CalendarDays\";\nimport CalendarDates from \"./calendarComponents/CalendarDates\";\nimport { onCalendarClick } from \"types/types\";\nimport clsx from \"clsx\";\nimport styles from \"./Calendar.module.scss\";\n\nexport default function Calendar(props: onCalendarClick) {\n  const { dispatch } = useContext(DateContext);\n  const currDate = new Date();\n  const [month, setMonth] = useState(currDate.getMonth());\n  const [year, setYear] = useState(currDate.getFullYear());\n  const handlePrevClick = (e: React.MouseEvent<HTMLImageElement>): void => {\n    setMonth((month) => month - 1);\n    if (month === 0) {\n      setYear(year - 1);\n      setMonth(11);\n    }\n  };\n  const handleNextClick = (e: React.MouseEvent<HTMLImageElement>): void => {\n    setMonth((month) => month + 1);\n    if (month === 11) {\n      setYear(year + 1);\n      setMonth(0);\n    }\n  };\n\n  // highlight when the date gets clicked\n  const activeDateRef = useRef<number | string | null | undefined>(null);\n  const activeMonthRef = useRef<number | string | null | undefined>(null);\n\n  // if localStorage has selected date\n  const storedDatObjString = localStorage.getItem(\"selectedDate\");\n  const storedDateObj = storedDatObjString && JSON.parse(storedDatObjString);\n  if (storedDateObj) {\n    activeDateRef.current = storedDateObj.activeDate;\n    activeMonthRef.current = storedDateObj.activeMonth;\n  }\n\n  const handleDateClick = (date: number | string) => {\n    activeMonthRef.current = month;\n    activeDateRef.current = date;\n    localStorage.setItem(\n      \"selectedDate\",\n      JSON.stringify({ activeMonth: month, activeDate: date })\n    );\n    dispatch({\n      type: \"change_date\",\n      year: year,\n      monthIndex: month,\n      date: Number(date),\n    });\n  };\n\n  return (\n    <div\n      className={clsx(\n        { [styles.noShow]: !props.showCalendar },\n        styles.calendar\n      )}\n      ref={props.calendarRef}\n    >\n      <CalendarTitle\n        monthIndex={month}\n        year={year}\n        prevClick={handlePrevClick}\n        nextClick={handleNextClick}\n      />\n      <CalendarDays />\n      <CalendarDates\n        monthIndex={month}\n        year={year}\n        onDateClick={handleDateClick}\n        activeDate={activeDateRef.current}\n        activeMonth={activeMonthRef.current}\n      />\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}