{"ast":null,"code":"import _objectSpread from\"/Users/sutaoliang/live-score/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/sutaoliang/live-score/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from\"react\";import{MatchContext}from\"context/MatchContext\";import{useNavigate}from\"react-router-dom\";import styles from\"./FeaturedMatch.module.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function FeaturedMatch(props){// just temporarily shows some logo for better view (will figure out other ways later)\nvar _useContext=useContext(MatchContext),match=_useContext.match,dispatch=_useContext.dispatch;// extract the latest/selected match information\nvar awayTeam=match.awayTeam;var homeTeam=match.homeTeam;var scores=match.scores;// use useState to memorize the teams logo\nvar defaultLogo=\"https://www.svgrepo.com/show/133513/shield.svg\";var _useState=useState(defaultLogo),_useState2=_slicedToArray(_useState,2),awayTeamLogo=_useState2[0],setAwayTeamLogo=_useState2[1];var _useState3=useState(defaultLogo),_useState4=_slicedToArray(_useState3,2),homeTeamLogo=_useState4[0],setHomeTeamLogo=_useState4[1];var navigate=useNavigate();var handleClick=function handleClick(){var _match$awayTeam,_match$homeTeam;// if Featured Match is not empty, then dispatch data to matchInfoPage\nif((match===null||match===void 0?void 0:(_match$awayTeam=match.awayTeam)===null||_match$awayTeam===void 0?void 0:_match$awayTeam.nickname)!==\"away\"||(match===null||match===void 0?void 0:(_match$homeTeam=match.homeTeam)===null||_match$homeTeam===void 0?void 0:_match$homeTeam.nickname)!==\"home\"){dispatch(_objectSpread(_objectSpread({type:\"selectFeaturedMatch\"},match),{},{awayTeam:_objectSpread(_objectSpread({},match.awayTeam),{},{logo:awayTeamLogo}),homeTeam:_objectSpread(_objectSpread({},match.homeTeam),{},{logo:homeTeamLogo})}));return navigate(\"/match/\".concat(match.leagueType,\"/\").concat(match.id));}alert(\"no teams selcted\");};// get teams\nvar allNbaTeamsStr=localStorage.getItem(\"allNbaTeams\");var allNbaTeams=allNbaTeamsStr&&JSON.parse(allNbaTeamsStr);var allMlbTeamsStr=localStorage.getItem(\"allMlbTeams\");var allMlbTeams=allMlbTeamsStr&&JSON.parse(allMlbTeamsStr);useEffect(function(){var _homeTeam$nickname;// if match.homeTeam data exists, and the data is from nba\nif(homeTeam!==null&&homeTeam!==void 0&&homeTeam.id&&homeTeam!==null&&homeTeam!==void 0&&homeTeam.nickname&&(homeTeam===null||homeTeam===void 0?void 0:(_homeTeam$nickname=homeTeam.nickname)===null||_homeTeam$nickname===void 0?void 0:_homeTeam$nickname.length)>3){// find nba team form localStorage\nvar filteredHomeTeam=allNbaTeams&&allNbaTeams.filter(function(team){var _match$homeTeam2;return team.id===(match===null||match===void 0?void 0:(_match$homeTeam2=match.homeTeam)===null||_match$homeTeam2===void 0?void 0:_match$homeTeam2.id);});var filteredAwayTeam=allNbaTeams&&allNbaTeams.filter(function(team){var _match$awayTeam2;return team.id===(match===null||match===void 0?void 0:(_match$awayTeam2=match.awayTeam)===null||_match$awayTeam2===void 0?void 0:_match$awayTeam2.id);});setHomeTeamLogo(filteredHomeTeam?filteredHomeTeam[0].logo:defaultLogo);setAwayTeamLogo(filteredAwayTeam?filteredAwayTeam[0].logo:defaultLogo);}else{var _allMlbTeams$filter$,_allMlbTeams$filter$2;// find mlb team from localStorage\nvar _filteredHomeTeam=allMlbTeams&&((_allMlbTeams$filter$=allMlbTeams.filter(function(team){var _match$homeTeam3;return Number(team.teamID)===(match===null||match===void 0?void 0:(_match$homeTeam3=match.homeTeam)===null||_match$homeTeam3===void 0?void 0:_match$homeTeam3.id);})[0])===null||_allMlbTeams$filter$===void 0?void 0:_allMlbTeams$filter$.mlbLogo1);var _filteredAwayTeam=allMlbTeams&&((_allMlbTeams$filter$2=allMlbTeams.filter(function(team){var _match$awayTeam3;return Number(team.teamID)===(match===null||match===void 0?void 0:(_match$awayTeam3=match.awayTeam)===null||_match$awayTeam3===void 0?void 0:_match$awayTeam3.id);})[0])===null||_allMlbTeams$filter$2===void 0?void 0:_allMlbTeams$filter$2.mlbLogo1);setHomeTeamLogo(_filteredHomeTeam?_filteredHomeTeam:defaultLogo);setAwayTeamLogo(_filteredAwayTeam?_filteredAwayTeam:defaultLogo);}},[homeTeam,props===null||props===void 0?void 0:props.showSport,allNbaTeams,allMlbTeams]);return/*#__PURE__*/_jsx(\"div\",{className:styles.featuredMatch,onClick:handleClick,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.matchInfo,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.away,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.awayName,children:awayTeam===null||awayTeam===void 0?void 0:awayTeam.nickname}),/*#__PURE__*/_jsx(\"img\",{className:styles.logo,src:awayTeamLogo,alt:\"awayTeam.svg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.scores,children:[/*#__PURE__*/_jsx(\"span\",{className:styles.awayScore,children:scores===null||scores===void 0?void 0:scores.awayTotal}),/*#__PURE__*/_jsx(\"span\",{children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:styles.homeScore,children:scores===null||scores===void 0?void 0:scores.homeTotal})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.home,children:[/*#__PURE__*/_jsx(\"h3\",{className:styles.homeName,children:homeTeam===null||homeTeam===void 0?void 0:homeTeam.nickname}),/*#__PURE__*/_jsx(\"img\",{className:styles.logo,src:homeTeamLogo,alt:\"homeTeam.svg\"})]})]})});}","map":{"version":3,"names":["useContext","useEffect","useState","MatchContext","useNavigate","styles","jsx","_jsx","jsxs","_jsxs","FeaturedMatch","props","_useContext","match","dispatch","awayTeam","homeTeam","scores","defaultLogo","_useState","_useState2","_slicedToArray","awayTeamLogo","setAwayTeamLogo","_useState3","_useState4","homeTeamLogo","setHomeTeamLogo","navigate","handleClick","_match$awayTeam","_match$homeTeam","nickname","_objectSpread","type","logo","concat","leagueType","id","alert","allNbaTeamsStr","localStorage","getItem","allNbaTeams","JSON","parse","allMlbTeamsStr","allMlbTeams","_homeTeam$nickname","length","filteredHomeTeam","filter","team","_match$homeTeam2","filteredAwayTeam","_match$awayTeam2","_allMlbTeams$filter$","_allMlbTeams$filter$2","_match$homeTeam3","Number","teamID","mlbLogo1","_match$awayTeam3","showSport","className","featuredMatch","onClick","children","matchInfo","away","awayName","src","alt","awayScore","awayTotal","homeScore","homeTotal","home","homeName"],"sources":["/Users/sutaoliang/live-score/frontend/src/components/main/rightSection/rightSectionComponents/FeaturedMatch.tsx"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { MatchContext } from \"context/MatchContext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { showSportType, allTeams, leagueParamsProps } from \"types/types\";\nimport styles from \"./FeaturedMatch.module.scss\";\n\ninterface combinedType extends showSportType, leagueParamsProps {}\nexport default function FeaturedMatch(props: combinedType) {\n  // just temporarily shows some logo for better view (will figure out other ways later)\n\n  const { match, dispatch } = useContext(MatchContext);\n  // extract the latest/selected match information\n  const awayTeam = match.awayTeam;\n  const homeTeam = match.homeTeam;\n  const scores = match.scores;\n  // use useState to memorize the teams logo\n  const defaultLogo = \"https://www.svgrepo.com/show/133513/shield.svg\";\n  const [awayTeamLogo, setAwayTeamLogo] = useState(defaultLogo);\n  const [homeTeamLogo, setHomeTeamLogo] = useState(defaultLogo);\n\n  const navigate = useNavigate();\n  const handleClick = () => {\n    // if Featured Match is not empty, then dispatch data to matchInfoPage\n    if (\n      match?.awayTeam?.nickname !== \"away\" ||\n      match?.homeTeam?.nickname !== \"home\"\n    ) {\n      dispatch({\n        type: \"selectFeaturedMatch\",\n        ...match,\n        awayTeam: {\n          ...match.awayTeam,\n          logo: awayTeamLogo,\n        },\n        homeTeam: {\n          ...match.homeTeam,\n          logo: homeTeamLogo,\n        },\n      });\n      return navigate(`/match/${match.leagueType}/${match.id}`);\n    }\n    alert(\"no teams selcted\");\n  };\n\n  // get teams\n  const allNbaTeamsStr = localStorage.getItem(\"allNbaTeams\");\n  const allNbaTeams = allNbaTeamsStr && JSON.parse(allNbaTeamsStr);\n\n  const allMlbTeamsStr = localStorage.getItem(\"allMlbTeams\");\n  const allMlbTeams = allMlbTeamsStr && JSON.parse(allMlbTeamsStr);\n\n  useEffect(() => {\n    // if match.homeTeam data exists, and the data is from nba\n    if (homeTeam?.id && homeTeam?.nickname && homeTeam?.nickname?.length > 3) {\n      // find nba team form localStorage\n      const filteredHomeTeam =\n        allNbaTeams &&\n        allNbaTeams.filter((team: allTeams) => team.id === match?.homeTeam?.id);\n      const filteredAwayTeam =\n        allNbaTeams &&\n        allNbaTeams.filter((team: allTeams) => team.id === match?.awayTeam?.id);\n      setHomeTeamLogo(\n        filteredHomeTeam ? filteredHomeTeam[0].logo : defaultLogo\n      );\n      setAwayTeamLogo(\n        filteredAwayTeam ? filteredAwayTeam[0].logo : defaultLogo\n      );\n    } else {\n      // find mlb team from localStorage\n      const filteredHomeTeam =\n        allMlbTeams &&\n        allMlbTeams.filter(\n          (team: any) => Number(team.teamID) === match?.homeTeam?.id\n        )[0]?.mlbLogo1;\n      const filteredAwayTeam =\n        allMlbTeams &&\n        allMlbTeams.filter(\n          (team: any) => Number(team.teamID) === match?.awayTeam?.id\n        )[0]?.mlbLogo1;\n      setHomeTeamLogo(filteredHomeTeam ? filteredHomeTeam : defaultLogo);\n      setAwayTeamLogo(filteredAwayTeam ? filteredAwayTeam : defaultLogo);\n    }\n  }, [homeTeam, props?.showSport, allNbaTeams, allMlbTeams]);\n  return (\n    <div className={styles.featuredMatch} onClick={handleClick}>\n      <div className={styles.matchInfo}>\n        <div className={styles.away}>\n          <h3 className={styles.awayName}>{awayTeam?.nickname}</h3>\n          <img className={styles.logo} src={awayTeamLogo} alt=\"awayTeam.svg\" />\n        </div>\n        <div className={styles.scores}>\n          <span className={styles.awayScore}>{scores?.awayTotal}</span>\n          <span>-</span>\n          <span className={styles.homeScore}>{scores?.homeTotal}</span>\n        </div>\n        <div className={styles.home}>\n          <h3 className={styles.homeName}>{homeTeam?.nickname}</h3>\n          <img className={styles.logo} src={homeTeamLogo} alt=\"homeTeam.svg\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}