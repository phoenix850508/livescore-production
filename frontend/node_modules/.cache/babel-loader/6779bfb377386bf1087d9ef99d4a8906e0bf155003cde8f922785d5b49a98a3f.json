{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sutaoliang/live-score/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sutaoliang/live-score/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sutaoliang/live-score/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Navbar from\"components/header/Navbar\";import Main from\"components/main/Main\";import MobileMenu from\"components/main/mobileMenuSection/MobileMenu\";import{DateContext}from\"context/DateContext\";import{getTeam}from\"api/nba\";import{dummyMlbTeams}from\"components/teamInfo/dummyMlbTeams\";import{useState,useRef,useEffect,useContext}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MainPage(){// use useState to control which sport to shown\nvar _useState=useState(\"all\"),_useState2=_slicedToArray(_useState,2),showSport=_useState2[0],setShowSport=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showFavorites=_useState4[0],setShowFavorites=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showCalendar=_useState6[0],setShowCalendar=_useState6[1];var _useState7=useState(localStorage.getItem(\"mobileIcon\")?localStorage.getItem(\"mobileIcon\"):\"matches\"),_useState8=_slicedToArray(_useState7,2),showMobileIcon=_useState8[0],setShowMobileIcon=_useState8[1];var calendarRef=useRef(null);var middleSecRef=useRef(null);var handleBasketballClick=function handleBasketballClick(e){setShowSport(\"basketball\");setShowFavorites(false);};var handleBaseballClick=function handleBaseballClick(e){setShowSport(\"baseball\");setShowFavorites(false);};// use useState to control whether shows favorites\nvar handleFavoritesClick=function handleFavoritesClick(){window.scrollTo({top:0,behavior:\"smooth\"});setShowFavorites(!showFavorites);setShowMobileIcon(\"favorites\");};// when main is clicked, navigate to main page\nvar handleBrandClick=function handleBrandClick(){setShowFavorites(false);setShowSport(\"all\");};// when mobile calendar icon is clicked\nvar handleCalendarClick=function handleCalendarClick(){setShowCalendar(!showCalendar);// scroll to the calendar window\nsetTimeout(function(){calendarRef.current&&calendarRef.current.scrollIntoView({behavior:\"smooth\",block:\"start\",inline:\"start\"});},0);};// when the mobile matches icon is clicked\nvar handleMatchesClick=function handleMatchesClick(){window.scrollTo({top:0,behavior:\"smooth\"});setShowMobileIcon(\"matches\");setShowFavorites(false);};// when the mobile league icon is clicked\nvar handleLeagueCupClick=function handleLeagueCupClick(){window.scrollTo({top:0,behavior:\"smooth\"});setShowMobileIcon(\"leagues\");setShowFavorites(false);};// get all nba&mlb teams name/logo\nuseEffect(function(){var asyncGetTeam=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getTeam(\"all\");case 2:response=_context.sent;response&&localStorage.setItem(\"allNbaTeams\",JSON.stringify(response.data.response));case 4:case\"end\":return _context.stop();}},_callee);}));return function asyncGetTeam(){return _ref.apply(this,arguments);};}();if(localStorage.getItem(\"allNbaTeams\")===null||localStorage.getItem(\"allMlbTeams\")===null){asyncGetTeam();localStorage.setItem(\"allMlbTeams\",JSON.stringify(dummyMlbTeams));}},[]);// when date is selected, mobile calendar collapse\nvar _useContext=useContext(DateContext),state=_useContext.state;useEffect(function(){setShowCalendar(false);middleSecRef.current&&middleSecRef.current.scrollIntoView({behavior:\"smooth\",block:\"center\",inline:\"end\"});},[state]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{onBasketballClick:handleBasketballClick,onBaseballClick:handleBaseballClick,showSport:showSport,onFavoritesClick:handleFavoritesClick,onBrandClick:handleBrandClick,showFavorites:showFavorites,onCalendarClick:handleCalendarClick}),/*#__PURE__*/_jsx(Main,{showSport:showSport,showFavorites:showFavorites,showCalendar:showCalendar,onLeagueCupClick:handleLeagueCupClick,showMobileIcon:showMobileIcon,onFavoritesClick:handleFavoritesClick,calendarRef:calendarRef,middleSecRef:middleSecRef}),/*#__PURE__*/_jsx(MobileMenu,{onMatchesClick:handleMatchesClick,onLeagueCupClick:handleLeagueCupClick,showMobileIcon:showMobileIcon,onFavoritesClick:handleFavoritesClick,showFavorites:showFavorites})]});}","map":{"version":3,"names":["Navbar","Main","MobileMenu","DateContext","getTeam","dummyMlbTeams","useState","useRef","useEffect","useContext","jsx","_jsx","jsxs","_jsxs","MainPage","_useState","_useState2","_slicedToArray","showSport","setShowSport","_useState3","_useState4","showFavorites","setShowFavorites","_useState5","_useState6","showCalendar","setShowCalendar","_useState7","localStorage","getItem","_useState8","showMobileIcon","setShowMobileIcon","calendarRef","middleSecRef","handleBasketballClick","e","handleBaseballClick","handleFavoritesClick","window","scrollTo","top","behavior","handleBrandClick","handleCalendarClick","setTimeout","current","scrollIntoView","block","inline","handleMatchesClick","handleLeagueCupClick","asyncGetTeam","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","setItem","JSON","stringify","data","stop","apply","arguments","_useContext","state","children","onBasketballClick","onBaseballClick","onFavoritesClick","onBrandClick","onCalendarClick","onLeagueCupClick","onMatchesClick"],"sources":["/Users/sutaoliang/live-score/frontend/src/pages/MainPage.tsx"],"sourcesContent":["import Navbar from \"components/header/Navbar\";\nimport Main from \"components/main/Main\";\nimport MobileMenu from \"components/main/mobileMenuSection/MobileMenu\";\nimport { DateContext } from \"context/DateContext\";\nimport { getTeam } from \"api/nba\";\nimport { dummyMlbTeams } from \"components/teamInfo/dummyMlbTeams\";\nimport { useState, useRef, useEffect, useContext } from \"react\";\n\nexport default function MainPage() {\n  // use useState to control which sport to shown\n  const [showSport, setShowSport] = useState(\"all\");\n  const [showFavorites, setShowFavorites] = useState(false);\n  const [showCalendar, setShowCalendar] = useState(false);\n  const [showMobileIcon, setShowMobileIcon] = useState<string | null>(\n    localStorage.getItem(\"mobileIcon\")\n      ? localStorage.getItem(\"mobileIcon\")\n      : \"matches\"\n  );\n  const calendarRef = useRef<null | HTMLDivElement>(null);\n  const middleSecRef = useRef<null | HTMLDivElement>(null);\n  const handleBasketballClick = (e: React.MouseEvent<HTMLImageElement>) => {\n    setShowSport(\"basketball\");\n    setShowFavorites(false);\n  };\n  const handleBaseballClick = (e: React.MouseEvent<HTMLImageElement>) => {\n    setShowSport(\"baseball\");\n    setShowFavorites(false);\n  };\n  // use useState to control whether shows favorites\n  const handleFavoritesClick = () => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n    setShowFavorites(!showFavorites);\n    setShowMobileIcon(\"favorites\");\n  };\n  // when main is clicked, navigate to main page\n  const handleBrandClick = () => {\n    setShowFavorites(false);\n    setShowSport(\"all\");\n  };\n  // when mobile calendar icon is clicked\n  const handleCalendarClick = () => {\n    setShowCalendar(!showCalendar);\n    // scroll to the calendar window\n    setTimeout(() => {\n      calendarRef.current &&\n        calendarRef.current.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"start\",\n          inline: \"start\",\n        });\n    }, 0);\n  };\n\n  // when the mobile matches icon is clicked\n  const handleMatchesClick = () => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n    setShowMobileIcon(\"matches\");\n    setShowFavorites(false);\n  };\n  // when the mobile league icon is clicked\n  const handleLeagueCupClick = () => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n    setShowMobileIcon(\"leagues\");\n    setShowFavorites(false);\n  };\n\n  // get all nba&mlb teams name/logo\n  useEffect(() => {\n    const asyncGetTeam = async () => {\n      const response = await getTeam(\"all\");\n      response &&\n        localStorage.setItem(\n          \"allNbaTeams\",\n          JSON.stringify(response.data.response)\n        );\n    };\n\n    if (\n      localStorage.getItem(\"allNbaTeams\") === null ||\n      localStorage.getItem(\"allMlbTeams\") === null\n    ) {\n      asyncGetTeam();\n      localStorage.setItem(\"allMlbTeams\", JSON.stringify(dummyMlbTeams));\n    }\n  }, []);\n\n  // when date is selected, mobile calendar collapse\n  const { state } = useContext(DateContext);\n  useEffect(() => {\n    setShowCalendar(false);\n    middleSecRef.current &&\n      middleSecRef.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\",\n        inline: \"end\",\n      });\n  }, [state]);\n\n  return (\n    <div>\n      <Navbar\n        onBasketballClick={handleBasketballClick}\n        onBaseballClick={handleBaseballClick}\n        showSport={showSport}\n        onFavoritesClick={handleFavoritesClick}\n        onBrandClick={handleBrandClick}\n        showFavorites={showFavorites}\n        onCalendarClick={handleCalendarClick}\n      />\n      <Main\n        showSport={showSport}\n        showFavorites={showFavorites}\n        showCalendar={showCalendar}\n        onLeagueCupClick={handleLeagueCupClick}\n        showMobileIcon={showMobileIcon}\n        onFavoritesClick={handleFavoritesClick}\n        calendarRef={calendarRef}\n        middleSecRef={middleSecRef}\n      />\n      <MobileMenu\n        onMatchesClick={handleMatchesClick}\n        onLeagueCupClick={handleLeagueCupClick}\n        showMobileIcon={showMobileIcon}\n        onFavoritesClick={handleFavoritesClick}\n        showFavorites={showFavorites}\n      />\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}